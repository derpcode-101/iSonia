<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shape Photo Maker - Sonia Online</title>
    <!-- Add icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="/images/icons/heart3.png" />
    <link rel="stylesheet" href="../../styles/stylesheet.css">
    <!-- Load the shape photo maker script -->
    <script src="shapePhotos.js" defer></script>

    <style>
        .photo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .canvas-container {
            width: 40%;
            aspect-ratio: 1/1;
            background-color: white;
            position: relative;
            overflow: hidden;
            margin-bottom: 15px;
            /* Remove the extra space */
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #3b5998;
        }

        #canvas {
            max-height: 100%;
            display: block;
            margin: 0 auto;
            background-color: white;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            column-count: 3;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
            margin-bottom: 15px;
            width: 100%;
        }

        button, select {
            padding: 8px 15px;
            background-color: #333;
            border: 1px solid #3b5998;
            border-radius: 1px;
            cursor: pointer;
            font-size: 14px;
            color: white;
        }

        #startCamera {
            background-color: lightgreen;
            border: 1px solid #3b5998;
            border-radius: 1px;
            color: #666666;
        }

        #stopCamera {
            background-color: indianred;
            border: 1px solid #3b5998;
            border-radius: 1px;
        }

        #clearPhotosButton {
            border: 1px solid #3b5998;
            border-radius: 1px;
        }

        #downloadButton {
            border: 1px solid #3b5998;
            border-radius: 1px;
        }


        button:hover, select:hover {
            filter: brightness(1.2);
        }

        button:disabled {
            background-color: #666666;
            color: #dddddd;
            cursor: not-allowed;
            filter: brightness(0.8);
            border: 1px solid #3b5998;
            border-radius: 1px;
        }

        /* Styles for sliders */
        .slider-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
            width: 100%;
            max-width: 400px;
        }

        .slider-group {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .slidecontainer {
            width: 100%;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 25px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #333333;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #333333;
            cursor: pointer;
        }

        label {
            margin-bottom: 5px;
            color: #666666;
        }

        /* Take Photo button styling */
        .photo-button {
            border: 1px solid #3b5998;
            border-radius: 1px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
        }

        .camera-icon {
            font-size: 16px;
        }

        .shape-preview {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            opacity: 0.3;
        }

        /* Flash effect for the camera */
        @keyframes cameraFlash {
            0% { background-color: rgba(255, 255, 255, 0); }
            50% { background-color: rgba(255, 255, 255, 0.8); }
            100% { background-color: rgba(255, 255, 255, 0); }
        }

        .flash {
            animation: cameraFlash 0.5s ease-out;
        }


        .info-section {
            margin: 20px auto;
            max-width: 75%;
            text-align: center;
            padding: 30px;
            background-color: rgba(0,0,0,0.1);
            border-radius: 5px;
        }

        .info-section h1 {
            text-decoration: underline;
            font-weight: unset;
        }
        .shape-options, .grid-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .shape-option, .grid-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 1px;
            border: 1px solid transparent;
        }

        .shape-option:hover, .grid-option:hover {
            background-color: rgba(59, 89, 152, 0.1);
        }

        .shape-preview-option {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
        }

        .shape-option.selected, .grid-option.selected {
            font-weight: bold;
            color: #3b5998;
            border: 1px solid #3b5998;
            background-color: rgba(59, 89, 152, 0.1);
        }

        .upload-btn-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            border: 1px solid #3b5998;
        }

        .upload-btn-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;

            cursor: pointer;
        }

        .upload-btn {
            background-color: #d9e5ff;
            color: #666666;
        }

        #videoElement {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            display: none;
        }

        #gridContainer {
            display: grid;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 3;
        }

        .grid-item {
            border: 1px dashed rgba(59, 89, 152, 0.5);
            position: relative;
            overflow: hidden;
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .grid-item-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<nav class="navigation">
    <a href="../../index.html" class="nav-item">HOME</a>
    <a href="../../navigation/resources.html" class="nav-item">RESOURCES</a>
    <a href="../../navigation/portfolio.html" class="nav-item">PORTFOLIO</a>
    <a href="../../learning/lectures.html" class="nav-item">COURSES</a>
    <a href="../../navigation/contact.html" class="nav-item">CONTACT</a>
</nav>
<div class="title-container">
    <div class="nav-links">
        <a href="#" class="sub-nav-item">SEE: </a>
        <a href="../../personal/music.html" class="sub-nav-item">music</a>
        <a href="../../personal/movies.html" class="sub-nav-item">movies</a>
        <a href="../../personal/books.html" class="sub-nav-item">books</a>
        <a href="../../personal/cards.html" class="sub-nav-item">cards</a>
    </div>
    <h1 class="page-title">SHAPE PHOTO MAKER</h1>
</div>

<div class="info-section">
    <h1>Shape Photo Maker</h1>
    <p>
        Create collage photos 4 free! Choose a shape,
        and arrange your photos in a 3x3 or 4x4 grid.
    </p>
    <p>
        You can upload photos or take them with your camera. Position yourself within the shape outline when taking photos.
    </p>
</div>

<div class="photo-container">
    <div class="shape-options">
        <div class="shape-option" data-shape="heart">
            <svg class="shape-preview-option" viewBox="0 0 100 100">
                <path d="M50 30 L20 10 Q0 10 0 30 Q0 60 50 90 Q100 60 100 30 Q100 10 80 10 Z" fill="#ff6b6b" />
            </svg>
            <span>Heart</span>
        </div>
        <div class="shape-option" data-shape="star">
            <svg class="shape-preview-option" viewBox="0 0 100 100">
                <path d="M50 10 L61 39 L93 39 L67 59 L78 90 L50 70 L22 90 L33 59 L7 39 L39 39 Z" fill="#ffd166" />
            </svg>
            <span>Star</span>
        </div>
        <div class="shape-option" data-shape="spiral">
            <svg class="shape-preview-option" viewBox="0 0 100 100">
                <path d="M50 50
                    C50 10, 90 10, 90 50
                    C90 80, 20 80, 20 50
                    C20 30, 70 30, 70 50
                    C70 70, 30 70, 30 50
                    C30 40, 60 40, 60 50
                    C60 60, 40 60, 40 50
                    C40 45, 55 45, 50 50"
                      fill="#06d6a0" stroke="black" stroke-width="1" fill-rule="evenodd" />
            </svg>
            <span>Spiral</span>
        </div>
    </div>

    <div class="grid-options">
        <div class="grid-option" data-grid="3">
            <span>3×3 Grid</span>
        </div>
        <div class="grid-option" data-grid="4">
            <span>4×4 Grid</span>
        </div>
    </div>

    <div class="controls">
        <select id="cameraSelect" class="camera-select">
            <option value="">Loading cameras...</option>
        </select>
        <button id="startCamera">Start Camera</button>
        <button id="stopCamera">Stop Camera</button>
    </div>

    <div class="canvas-container">
        <canvas id="canvas"></canvas>
        <div id="gridContainer"></div>
        <video id="videoElement" playsinline autoplay></video>
        <svg class="shape-preview" id="shapePreview" viewBox="0 0 100 100">
            <!-- Shape will be drawn here via JavaScript -->
        </svg>
    </div>

    <div class="controls">
        <button id="takePhotoButton" class="photo-button">
            <span class="camera-icon">📸</span> Take Photo
        </button>
        <div class="upload-btn-wrapper">
            <button class="upload-btn">Upload Photo</button>
            <input type="file" id="uploadPhoto" accept="image/*" />
        </div>
        <button id="clearPhotosButton">Clear Photos</button>
        <button id="downloadButton"><i class="fa fa-download"></i> Download Collage</button>
    </div>

    <div class="slider-controls">
        <div class="slider-group">
            <label for="opacitySlider">Shape Outline Opacity: <span id="opacityValue">30</span>%</label>
            <input type="range" id="opacitySlider" min="0" max="100" value="30" class="slider">
        </div>
        <div class="slider-group">
            <label for="scaleSlider">Image Scale: <span id="scaleValue">100</span>%</label>
            <input type="range" id="scaleSlider" min="50" max="150" value="100" class="slider">
        </div>
    </div>

</div>

<footer>
    <p style="text-align: center">
        <a href="https://github.com/sonia-sharapova">GitHub</a> |
        <a href="https://www.linkedin.com/in/sonia-sharapova/">LinkedIn</a> |
        <a href="https://www.instagram.com/sonia.s.ru/">Instagram</a>
    </p>
    <div style="margin-top: 5px;">
        Sonia's Web Archive<br>
        2025
    </div>
</footer>
</body>
</html>